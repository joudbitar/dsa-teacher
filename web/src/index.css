@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* 
     * Color Theme - Managed in src/theme/colors.ts
     * DO NOT modify these values directly - update colors.ts instead
     * 
     * See: web/src/theme/README.md for usage guidelines
     */
    
    /* Background (Base): #F0ECDA - Warm neutral */
    --background: 49 42% 90%;
    /* Primary Text: #171512 - Espresso black */
    --foreground: 36 12% 8%;
    
    /* Cards: #F0ECDA - Warm neutral (same as background) */
    --card: 49 42% 90%;
    --card-foreground: 36 12% 8%;
    
    /* Popover */
    --popover: 49 42% 90%;
    --popover-foreground: 36 12% 8%;
    
    /* Primary Accent: #7F5539 - Coffee bean (Primary buttons, key highlights) */
    --primary: 24 38% 36%;
    --primary-foreground: 0 0% 100%;
    
    /* Secondary Accent: #B08968 - Latte (Secondary buttons, chips, hovers) */
    --secondary: 28 31% 55%;
    --secondary-foreground: 0 0% 100%;
    
    /* Surface Shadow / Depth: #E5E0CC - Slightly darker beige (Card surfaces) */
    --muted: 48 32% 85%;
    /* Secondary Text: #4B463F - Muted mocha (Subheadings, metadata) */
    --muted-foreground: 35 9% 27%;
    
    /* Accent: Latte for highlights and hovers */
    --accent: 28 31% 55%;
    --accent-foreground: 0 0% 100%;
    
    /* Success / Positive: #2E7D32 - Deep green (Passed tests, progress bars) */
    --success: 123 46% 34%;
    --success-foreground: 0 0% 100%;
    
    /* Warning / Attention: #F4A300 - Golden orange (Alerts, hints) */
    --warning: 40 100% 48%;
    --warning-foreground: 36 12% 8%;
    
    /* Error / Fail: #B91C1C - Warm red (Test failures, error badges) */
    --destructive: 0 74% 42%;
    --destructive-foreground: 0 0% 100%;
    
    /* Neutral Divider / Border: #D3CDBB - Light taupe (Card borders, subtle dividers) */
    --border: 45 21% 78%;
    --input: 45 21% 78%;
    
    /* Ring: Coffee bean for focus */
    --ring: 24 38% 36%;
    
    --radius: 0.75rem;
  }

  /* Dark theme (for future use) */
  .dark {
    --background: 220 13% 9%;
    --foreground: 0 0% 98%;
    --card: 220 13% 12%;
    --card-foreground: 0 0% 98%;
    --popover: 220 13% 12%;
    --popover-foreground: 0 0% 98%;
    --primary: 188 94% 57%;
    --primary-foreground: 220 13% 9%;
    --secondary: 217 33% 25%;
    --secondary-foreground: 0 0% 98%;
    --muted: 220 13% 18%;
    --muted-foreground: 215 20% 65%;
    --accent: 38 92% 50%;
    --accent-foreground: 220 13% 9%;
    --success: 142 76% 36%;
    --success-foreground: 0 0% 98%;
    --warning: 38 92% 50%;
    --warning-foreground: 220 13% 9%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --border: 220 13% 20%;
    --input: 220 13% 20%;
    --ring: 188 94% 57%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    background: #F0ECDA;
    min-height: 100vh;
    position: relative;
    font-family: 'JetBrains Mono', monospace;
  }
  
  /* Use Monaspace for code elements - especially on challenges page */
  code, pre {
    font-family: 'Monaspace', 'JetBrains Mono', monospace;
  }
  
  /* Use Monaspace for code on challenges page */
  .challenges-page code,
  .challenges-page pre,
  .challenges-page .font-mono {
    font-family: 'Monaspace', 'JetBrains Mono', monospace;
  }
  
  /* Apply JetBrains Mono to challenges and datastructures pages */
  .challenges-page, .datastructures-page {
    font-family: 'JetBrains Mono', monospace;
  }
  
  /* Default font-mono uses JetBrains Mono */
  .font-mono {
    font-family: 'JetBrains Mono', monospace;
  }
}

@layer utilities {
  .glow-cyan {
    box-shadow: 0 0 20px rgba(34, 211, 238, 0.3), 0 0 40px rgba(34, 211, 238, 0.1);
  }
  
  .glow-green {
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.3), 0 0 40px rgba(34, 197, 94, 0.1);
  }
  
  .text-glow-cyan {
    text-shadow: 0 0 10px rgba(34, 211, 238, 0.5);
  }
  
  .bg-gradient-dev-lab {
    background: #F0ECDA;
    position: relative;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  @keyframes milkShine {
    0% {
      transform: translateX(-100%);
    }
    50% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
  
  @keyframes milkFlow {
    0% {
      transform: translateY(-30%);
      opacity: 0;
    }
    5% {
      opacity: 1;
    }
    95% {
      opacity: 1;
    }
    100% {
      transform: translateY(130%);
      opacity: 0;
    }
  }
  
  @keyframes checkAppear {
    0% {
      transform: scale(0) rotate(-180deg);
      opacity: 0;
    }
    50% {
      transform: scale(1.2) rotate(0deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }
  
  @keyframes checkIconPop {
    0% {
      transform: scale(0) rotate(-180deg);
      opacity: 0;
    }
    60% {
      transform: scale(1.3) rotate(10deg);
      opacity: 1;
    }
    80% {
      transform: scale(0.9) rotate(-5deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
  }

  /* Natural paper/wood texture containers with irregular shapes */
  .natural-container {
    position: relative;
    background: 
      /* Paper texture base */
      linear-gradient(45deg, rgba(251, 248, 243, 0.9) 25%, transparent 25%),
      linear-gradient(-45deg, rgba(251, 248, 243, 0.9) 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, rgba(251, 248, 243, 0.9) 75%),
      linear-gradient(-45deg, transparent 75%, rgba(251, 248, 243, 0.9) 75%),
      /* Wood grain texture */
      radial-gradient(circle at 25% 35%, rgba(210, 180, 140, 0.15) 0%, transparent 40%),
      radial-gradient(circle at 75% 65%, rgba(222, 184, 135, 0.12) 0%, transparent 45%),
      radial-gradient(circle at 50% 50%, rgba(139, 119, 101, 0.08) 0%, transparent 60%),
      /* Base color - warm paper tone */
      linear-gradient(135deg, rgba(253, 245, 230, 0.95) 0%, rgba(250, 240, 220, 0.9) 100%);
    background-size: 
      4px 4px,
      4px 4px,
      4px 4px,
      4px 4px,
      100% 100%,
      100% 100%,
      100% 100%,
      100% 100%;
    background-position: 0 0, 0 2px, 2px -2px, -2px 0px, 0 0, 0 0, 0 0, 0 0;
    box-shadow: 
      0 2px 4px rgba(0, 0, 0, 0.12),
      0 0 0 0.5px rgba(139, 119, 101, 0.15),
      inset 0 1px 1px rgba(255, 255, 255, 0.4),
      inset 0 -1px 1px rgba(139, 119, 101, 0.05);
    filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.15));
  }

  /* Irregular border shapes - paper-like edges */
  .natural-container-1 {
    clip-path: polygon(
      2% 0%, 
      98% 1%, 
      100% 5%, 
      99% 98%, 
      96% 100%, 
      3% 99%, 
      0% 97%, 
      1% 3%
    );
  }

  .natural-container-2 {
    clip-path: polygon(
      0% 2%, 
      98% 0%, 
      100% 4%, 
      99% 96%, 
      97% 100%, 
      2% 98%, 
      1% 95%, 
      0% 4%
    );
  }

  .natural-container-3 {
    clip-path: polygon(
      1% 1%, 
      99% 2%, 
      100% 6%, 
      98% 99%, 
      95% 100%, 
      4% 97%, 
      2% 94%, 
      0% 5%
    );
  }

  .natural-container-4 {
    clip-path: polygon(
      0% 3%, 
      97% 1%, 
      100% 5%, 
      99% 97%, 
      96% 100%, 
      3% 98%, 
      1% 96%, 
      0% 6%
    );
  }

  .natural-container-5 {
    clip-path: polygon(
      2% 0%, 
      99% 1%, 
      100% 4%, 
      98% 98%, 
      95% 100%, 
      2% 99%, 
      0% 97%, 
      1% 3%
    );
  }

  .natural-container-6 {
    clip-path: polygon(
      1% 2%, 
      98% 0%, 
      100% 3%, 
      99% 97%, 
      97% 100%, 
      4% 98%, 
      2% 96%, 
      0% 4%
    );
  }

  /* Natural step shapes - using SVG clipPath for organic branch-like shapes */
  .natural-step-1 {
    clip-path: url(#organic-branch-1);
  }

  .natural-step-2 {
    clip-path: url(#organic-branch-2);
  }

  .natural-step-3 {
    clip-path: url(#organic-branch-3);
  }

  .natural-step-4 {
    clip-path: url(#organic-branch-4);
  }

  .natural-step-5 {
    clip-path: url(#organic-branch-5);
  }

  .natural-step-6 {
    clip-path: url(#organic-branch-6);
  }
}

